<%= simple_form_for @recipe do |f| %>
  <% if @recipe.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(@recipe.errors.count, "error") %> prohibited this project from being saved:</h2>
      <ul>
        <% @recipe.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="w-50">
    <div class="mb-3">
      <%= image_tag f.object.image_url, class: "w-100" if f.object.image.present? %>
      <%= f.hidden_field :image, value: f.object.cached_image_data %>
      <label for="formFile" class="form-label">Add a photo of your recipe</label>
      <%= f.file_field :image, class: "form-control", id: "formFile" %>
    </div>
    <div class="form-inputs">
      <%= f.input :title %>
      <%= f.input :body %>
    </div>
    <h4>Ingredients</h4>
    <div id="ingredients">
      <%= f.fields_for :ingredients do |ingredients_form| %>
        <%= render "ingredients/form", form: ingredients_form %>
      <% end %>
    </div>
    <div class="form-actions">
      <%= f.button :submit %>
    </div>
  </div>
<% end %>
